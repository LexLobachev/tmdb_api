# tmdb_api

Это проект, который позволяет работать с данными из портала TMDB

## Окружение

### Зависимости

Python3 уже должен быть установлен. Затем воспользуйтесь pip3, чтобы установить зависимости:

```bash
pip3 install -r requirements.txt
```

### API ключ к TMDB

#### Как получить

* Зарегистрируйтесь на [TMDB](https://www.themoviedb.org/signin) и получите `ключ доступа`
  на [settings](https://www.themoviedb.org/settings/api)

## Как пользоваться

1. Проверьте свой ключ доступа:

   Запустите на Linux(Python 3) или Windows:

    ```bash
    $ python3 hello_api_TMDB.py
    ```
   Вас попросят ввести ключ доступа
    ```
    Enter your api key v3:
    ```
   Если вам выдались данные по фильму, а не 'Invalid api key', то можно двигаться дальше


2. Сохраните данные по 1000 фильмам к себе локально

   ```bash
    $ python3 make_own_db.py
    ```
   Вас опять попросят ввести ключ доступа Программа попросит вас подождать 15-20 минут и будет выводить статус
   скачивания в процентах Файл MyFilmDB.json, в котором в итоге окажутся фильмы, будет создан в папке данного проекта


3. Попробуйте найти какой-нибудь фильм по названию

   ```bash
    $ python3 search_in_db.py
    ```
   Введите путь к ранее созданному файлу MyFilmDB.json и если путь корректный введите еще название фильма по которому
   хотели бы найти совпадения, в противном случае программа выдаст ошибку что не удалось найти файл


4. Программа может выдать рекомендации по схожим фильмам с тем, что вы введете

   ```bash
    $ python3 find_similar.py
    ```
   Аналогично прошлому шагу введите путь к файлу, где хранятся фильмы, введите название фильма и если такой фильм есть в
   файле MyFilmDB.json, то вам выведут отсортированный список схожих по параметрам фильмов

## Краткая сводка по файлам

### tmdb_helpers.py

Файл, в который вынесены функции для получения от пользователя его api ключа, отправки запроса с помощью этого ключа на
сайт TMDB, а так же получения данных по номеру фильма

### hello_api_TMDB.py

Выводит информацию по бюджету 215го фильма из TMDB с помощью функций из tmdb_helpers.py

### make_own_db.py

Сохраняет информацию по фильмам по номеру от 0 до 1000 в файл MyFilmDB.json. Другими словами, создает локально "базу
данных" c api TMDB по первым 1000 фильмам.

### own_db_helpers.py

Отдает данные из файла по вводимому пути, если путь существующий, иначе не выдает ничего

### search_in_db.py

Выводит отсортированный список фильмов из локальной базы данных совпадающих с введенным пользователем названием

### find_similar.py

Вывод отсортированный список рекомендуемых фильмов, которые схожи по параметрам с параметрами введенного названия фильма
 

